---
layout: post
title: "Improve productivity by tracking work environment with git - vim"
date: 2012-02-20T21:43:00+01:00
categories:
 - productivity
 - linux
---

<div class='post'>
<span style="font-family: 'Courier New', Courier, monospace;">In this post I try to describe my vim configuration procedure and how it is connected with git.&nbsp;The whole concept is based on keeping all the configuration files in a separate directory. These files are&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">connected using</span><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;symbolic links in places where system or application requires it (eg $HOME/.vimrc -&gt; /home/jdoe/workspace/dotfiles/vimrc). So first let's create local&nbsp;directory for vim:</span>
<br />
<pre class="brush:bash;gutter:false">cd ~/workspace/dotfiles;mkdir vim</pre>
<br />
<ol>
<li><span style="font-family: 'Courier New', Courier, monospace;">Pathogen</span></li>
<br />
<span style="font-family: 'Courier New', Courier, monospace;">The first plugin that will be installed is pathogen created by tpope and accessible through github. Pathogen is a vim script to manage all vim plugins with ease. Below line add pathogen as submodule to our workspace repository created in <a href="http://pietrushnic.blogspot.com/2012/02/improve-productivity-by-tracking-work.html">previous post</a>:</span><br />
<pre class="brush:bash;gutter:false">git submodule add https://github.com/tpope/vim-pathogen.git dotfiles/vim/pathogen</pre>
<span style="font-family: 'Courier New', Courier, monospace;">Initialise repository and update it:</span>
<br />
<pre class="brush:bash;gutter:false">git submodule init &amp;&amp; git submodule update</pre>
<span style="font-family: 'Courier New', Courier, monospace;">Create&nbsp;additional&nbsp;directories need to complete pathogen installation, change directory to autoload:</span><br />
<pre class="brush:bash;gutter:false">cd dotfiles/vim;mkdir {autoload,bundle};cd autoload</pre>
<span style="font-family: 'Courier New', Courier, monospace; white-space: normal;">In autoload directory pathogen should be installed, bundle directory is a place for all plugins installed in future. Finally we need to link vim script from pathogen submodule to current directory (dotfiles/vim/autoload):</span>
<br />
<pre class="brush:bash;gutter:false">ln -s ../pathogen/autoload/pathogen.vim .</pre>
<span style="font-family: 'Courier New', Courier, monospace; white-space: normal;">Directory structure should look like below:</span>
<br />
<pre class="brush:plain;gutter:false">                pietrushnic@eriador:~/workspace/dotfiles$ tree
                .
                └── vim
                    ├── autoload
                    │&nbsp;&nbsp; └── pathogen.vim -&gt; ../pathogen/autoload/pathogen.vim
                    ├── bundle
                    └── pathogen
                        ├── autoload
                        │&nbsp;&nbsp; └── pathogen.vim
                        └── README.markdown
</pre>
<span style="font-family: 'Courier New', Courier, monospace; white-space: normal;">At the end of pathogen installation few lines to $HOME/.vimrc should be added. Of course following rules about dotfiles management .vimrc should be created as separate file in ~/workspace/dotfiles and linked to $HOME/.vimrc.</span>
<pre class="brush:bash;gutter:false">touch vimrc;ln -s $PWD/vimrc $HOME/.vimrc</pre>
<span style="font-family: 'Courier New', Courier, monospace; white-space: normal;">Add below lines to $HOME/.vimrc</span>
<pre class="brush:plain;gutter:false"> call pathogen#infect()
call pathogen#runtime_append_all_bundles()
call pathogen#helptags()
syntax on
filetype plugin indent on
</pre>
<div>
<br /></div>
<li><span style="font-family: 'Courier New', Courier, monospace;">Fuzzyfinder</span></li>
<div>
<span style="font-family: 'Courier New', Courier, monospace;">This is second plugin without which I cannot work. It speeds up searching though files, directories and tags. Has multiple useful features. RTFM if you want knew them. I will be also added as a git submodule:</span>
<br />
<pre class="brush:bash;gutter:false">git submodule add https://github.com/vim-scripts/FuzzyFinder.git dotfiles/vim/bundle/fuzzyfinder</pre>
<span style="font-family: 'Courier New', Courier, monospace;">Additional plugin is needed to correctly install fuzzyfinder:</span>
<br />
<pre class="brush:bash;gutter:false">git submodule add https://github.com/vim-scripts/L9.git dotfiles/vim/bundle/l9</pre>
</div>
<div>
<span style="font-family: 'Courier New', Courier, monospace;">Initialize and update submodules:</span><br />
<pre class="brush:bash;gutter:false">git submodule init &amp;&amp; git submodule update</pre>
<span style="font-family: 'Courier New', Courier, monospace;">Configuration</span>
<span style="font-family: 'Courier New', Courier, monospace;">I suggest to configure fuzzyfinder with&nbsp;accordance&nbsp;to example provided in help.&nbsp;</span></div>
<span style="font-family: 'Courier New', Courier, monospace;"><ul>
<li>Run vim and type :h fuf@en&lt;Enter&gt;.&nbsp;</li>
<li>Choose tag fuf-vimrc-example and press Ctrl-].&nbsp;</li>
<li>Mark whole keybindings copy and paste to ~/.vimrc</li>
</ul>
</span></ol>
<div>
<span style="font-family: 'Courier New', Courier, monospace;">Right now I think it is enough with vim configuration. Of&nbsp;course&nbsp;I use&nbsp;plenty&nbsp;of other plugins but I don't have to time to describe my them all (maybe in future posts). D</span><span style="font-family: 'Courier New', Courier, monospace;">on't forget to commit your changes,&nbsp;there could be a lot of them, however, to deal with the distribution of these changes and improve your skills try to use&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">git add -p&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">interface, suggesting after linux code style - each commit should contain separate logical part of the changes,&nbsp;personally&nbsp;I add prefix to my commits (eg . vim, git, etc.) to ease deal with git log.</span><br />
<span style="font-family: 'Courier New', Courier, monospace;">Notes:</span>
<br />
<ul>
<li><span style="font-family: 'Courier New', Courier, monospace;">vim helpfiles generates tags files, which should be ignored by git, so I recommend to create .gitignore in every module with blow content:</span></li>
<pre class="brush:bash;gutter:false">.gitignore
tags*</pre>
<li><span style="font-family: 'Courier New', Courier, monospace;">by default fuzzyfinder operate on unfriendly color palette espessicaly when using it through putty, highlighted pattern could be changed by added below lines to .vimrc (9 = black)</span></li>
<pre class="brush:bash;gutter:false">" fuzzy-finder - fix colors
highlight PmenuSel ctermbg=9</pre>
</ul>
</div>
</div>
